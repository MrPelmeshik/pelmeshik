## Архитектура проекта Tasker App

Ниже описана рекомендуемая иерархия папок и правила использования. Структура адаптирована под React + TypeScript (CRA/Vite совместима) и удобна для роста приложения.

### Дерево директорий (внутри `src/`)

```
src/
  app/                 # Точка входа приложения: провайдеры, ErrorBoundary, Theme, i18n
  assets/
    fonts/             # Веб‑шрифты
    icons/             # SVG/спрайты
    images/            # Изображения/иллюстрации
  components/
    common/            # Переиспользуемые примитивы (Button, Modal, Input)
    ui/                # Сложные UI-блоки, составленные из common
  config/              # Конфигурация окружений, константы, feature flags
  context/             # React Contexts (AuthProvider, ThemeProvider)
  features/
    auth/              # Фича «Аутентификация»: экран(ы), слайсы, API, хуки
    tasks/             # Фича «Задачи»: экран(ы), слайсы, API, хуки
    users/             # Фича «Пользователи»: экран(ы), слайсы, API, хуки
  hooks/               # Переиспользуемые кастомные хуки (useDebounce, useFetchOnce)
  lib/                 # Инфраструктура/адаптеры (http-клиент, даты, валидаторы)
  pages/               # Страницы маршрутов (route-level containers)
  routes/              # Конфигурация роутов, защитники маршрутов
  services/
    api/               # Клиенты API, запросы, схемы
    logging/           # Логирование/трассировка
    storage/           # LocalStorage/SessionStorage/IndexedDB
  store/               # Глобальный стейт (Redux/Zustand), middlewares
  styles/              # Глобальные стили, дизайн‑токены, CSS variables
  tests/               # e2e/интеграционные/contract тесты (если вне фич)
  types/               # Глобальные типы/DTO, shared типы
  utils/               # Мелкие утилиты без побочных эффектов
```

### Принципы

- **Feature‑first**: код группируем по фичам в `src/features/*`. Общие вещи — в `components`, `hooks`, `lib`, `utils`.
- **Public API фичи**: каждая фича имеет `index.ts` с экспортами того, что можно использовать снаружи (компоненты, хуки, типы).
- **Изоляция**: фичи не импортируют код друг друга напрямую. Общие зависимости — через `components/common`, `lib`, `services`, `types`.
- **Слои**: UI → features/pages → services/lib → инфраструктура. Запрещаем обратные зависимости.

### Как пользоваться структурой

1) Создание новой фичи
- Создайте папку `src/features/<name>/`.
- Внутри заведите подкаталоги по необходимости: `components/`, `hooks/`, `api/`, `model/` (слайсы/машины состояний), `types/`, `utils/`, `tests/`.
- Экспортируйте публичные сущности в `src/features/<name>/index.ts`.

2) Добавление страницы
- Создайте компонент в `src/pages/`, который собирает нужные фичи.
- Зарегистрируйте маршрут в `src/routes/` (например, `routes.tsx`).

3) Общие компоненты
- Примитивы/базовые блоки — в `components/common`.
- Сложные композиции, используемые в нескольких местах — в `components/ui`.

4) Работа с API
- Описывайте клиент и запросы в `services/api` (например, через `fetch`/`axios`).
- Фичи используют абстракции `services/api` через свои адаптеры в `features/*/api`.

5) Глобальный стейт
- Расположите стор/редьюсеры/слайсы в `store/` или локально в `features/*/model`.
- Входная инициализация стора/провайдеров — в `app/`.

6) Стили
- Глобальные токены/переменные — в `styles/`.
- Стили фич — рядом с компонентами фичи.

7) Импортные пути
- Настройте алиасы (например, `@/features`, `@/components`, `@/lib`) через `tsconfig.paths` и bundler.

### Быстрые рецепты

- Добавить новую иконку: положить SVG в `assets/icons`, импортировать в нужный компонент.
- Сохранить пользовательские данные: используйте `services/storage` (обёртки над LocalStorage/IndexedDB).
- Логирование: используйте функции из `services/logging`.

### Пример публичного API фичи

```ts
// src/features/tasks/index.ts
export { TasksPage } from './components/TasksPage';
export type { Task } from './types';
export { useTasks } from './hooks/useTasks';
```

### Кодстайл

- Именование: понятные, полные слова. Избегайте аббревиатур.
- Типизация: эксплицитна на публичных API; избегайте `any`.
- Управление ошибками: ранние возвраты, понятные сообщения.


